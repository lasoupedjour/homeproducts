<!--div class="container">
  <div class="row mt-5">
    <div class="col-12 mt-1">
      <h2 class="alert-danger px-2">{{_global.appstatus.mensaje}}</h2>
    </div>
  </div>
</div-->


<div class="container fM2 menuadmin">
  <div class="row">
    <div class="offset-sm-6  col-sm-2 text-center">
      <a routerLink="/administracion/inicio/">Resumen de Servicios</a>
    </div>
    <div class="col-sm-2 text-center active">
      <a routerLink="/administracion/resumen-de-pagos/">Resumen de Pagos</a>
    </div>
    <!--<div class="col-sm-2 text-center">
      <a routerLink="/administracion/servicios-red/">Servicios Red</a>
    </div>-->
    <div class="col-sm-2 text-center">
      <a routerLink="/administracion/historial-de-pagos/">Historial de Pagos</a>
    </div>
  </div>
</div>




 <div class="container">


   <div class="row mt-3">
     <div class="col-6">
       <h2>RESUMEN DE PAGOS</h2>
     </div>
   </div>

   <div class="row mt-3">
      <div class="col-1 text-center">
        <i class="fa fa-building fa-2x"></i>
      </div>
      <div class="col-4 fM">
      {{this._global.user.NombreCentro}}<br>
      PAIS: {{this._global.user.Pais}}<br>
      DIRECCIÓN: {{this._global.user.Direccion}}<br>
      TELÉFONOS: {{this._global.user.Telefono1}} {{this._global.user.Telefono2}} {{this._global.user.Telefono3}}<br>
      RED: {{this._global.user.Red}}<br>
      </div>

      <div class="col-4">
        <div class="row">
          <div class="col-6">

          </div>
          <div class="col-6">

          </div>
        </div>
      </div>


      <div class="col-3 fM3">
        <div class="row">
          <div class="col-12">
            <h5><strong>Monto Total: ${{montoTotal}} USD</strong></h5>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <h5><strong>Status: {{statusPago}}</strong></h5>
          </div>
        </div>
      </div>
   </div>
   <form  name="formulariofiltros" [formGroup]="filterForm" >
   <div class="row mt-3">
     <div class="col-3 text-right">
       <select class="form-control form-control-sm" formControlName="Pais" (change)="changePais()">
         <option value="" hidden="">País</option>
         <option *ngFor="let item of _global.paises;" value="{{item.Pais}}">{{item.Pais}}</option>
       </select>
     </div>
     <div class="col-3 text-right">
       <select class="form-control form-control-sm" formControlName="Cds" id="centros">
         <option value="" hidden>CDS</option>
       </select>
     </div>
     <div class="col-2 text-right">
       <select class="form-control form-control-sm" formControlName="Ano">
         <option value="0">Año</option>
         <option value="2018">2018</option>
         <option value="2017">2017</option>
       </select>
     </div>
     <div class="col-2 text-right">
       <select class="form-control form-control-sm" formControlName="Mes">
         <option value="0">Mes</option>
         <option value="01">enero</option>
         <option value="02">febrero</option>
         <option value="03">marzo</option>
         <option value="04">abril</option>
         <option value="05">mayo</option>
         <option value="06">junio</option>
         <option value="07">julio</option>
         <option value="08">agosto</option>
         <option value="09">septiembre</option>
         <option value="10">octubre</option>
         <option value="11">noviembre</option>
         <option value="12">diciembre</option>
       </select>
     </div>
     <div class="col-2 text-center">
       <a class="btn btn-sm btnicono" (click)="filtrarReporte()"> Filtrar </a>
     </div>
   </div>
   </form>


  <hr>

   <div>
     <div class="overflow">
       <table class="table table-striped table-bordered">
           <thead>
           <tr>
             <th>Mes</th>
             <th>Garantia de Partes</th>
             <th>Garantia de M.O. & Kms</th>
             <th>Reembolso Garantia FEE </th>
             <th>Monto USD</th>
             <th>Status</th>
           </tr>
           </thead>

           <tbody>
             <tr>
               <td>

               </td>
               <td>
                 Cta # 7210000026
               </td>
               <td>
                 Cta # 7210000027
               </td>
               <td>
                 Cta # 7210000030
               </td>
               <td>

               </td>
               <td></td>
             </tr>
           <tr>
             <td>
               {{this.nombreMes}} {{this.filterForm.controls.Ano.value}}
             </td>
             <td>
               {{this.montoRefacciones | currency}}
             </td>
             <td>
               {{this.montoTAMov | currency}}
             </td>
             <td>
               {{this.montoFee | currency}}
             </td>
             <td>
               {{this.montoTotal | currency}}
             </td>
             <td></td>
           </tr>
           </tbody>
</table>

     </div>
   </div>

      <div class="row mt-3" *ngIf="this.statusPago != 'Por Enviar'">
        <div class="col-6">
          <h2>DATOS DE PAGO</h2>
        </div>
      </div>
      <div class="row my-2" *ngIf="this.statusPago != 'Por Enviar'">
        <div class="col-6">
          Pago <b>{{this.statusPago}}</b><br>
          Comprobante: <b *ngIf="this.statusPago == 'Enviado'">{{this.comprobantePago}}</b><br>
          Fecha de registro: <b>{{this.fechaRegistroPago}}</b><br>
        </div>
        <div class="col-6">
          <form class="formulario formularioCotizacion my-3" name="formulariopagos" [formGroup]="pagosForm" (ngSubmit)="submitCambiastatusPago()" *ngIf="this.comprobantePago=='Pago sin realizar'">
            <ng2-file-input (onAction)="onActionComprobante($event)" ></ng2-file-input>
            <span class="alert alert-danger" *ngIf="this.AdjuntosComprobanteLenght==0 && this.adjuntosValidos==false">
              Este campo es requerido
            </span>


            <br>
            <button class="btn btn-sm" type="submit">Guardar</button>
          </form>
        </div>
      </div>
     <div class="row my-5" *ngIf="this.statusPago == 'Por Enviar'">
       <div class="offset-sm-9 col-3 mb-5">
         <a class="btn btn-sm btnicono" (click)="generaReporte()"> Generar reporte y enviar </a>
       </div>
     </div>



   </div>
